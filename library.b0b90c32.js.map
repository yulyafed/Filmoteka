{"mappings":"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","sources":["src/library.js","src/js/getFromStorage.js","src/js/day-night-library.js"],"sourcesContent":["import { refs } from './js/refs';\nimport './js/AuthenticationService';\nimport { onTopBallon } from './js/component/btn-to-top';\nimport './js/teamModal';\nimport './js/getFromStorage';\nimport './js/set-to-watched';\nimport './js/ApiService';\nimport './js/day-night-library';\n","import axios from 'axios';\nimport {\n  toggleClassHidden,\n  openBackDrop,\n  cleanBackDrop,\n  modalKeyDown,\n  closeModal,\n  addClassHidden,\n} from './openModal';\nimport { refs } from './refs';\nimport { getToBtns } from './component/getToBtns';\n\nconst libraryMainList = document.querySelector('[data-film-modal-open');\nconst libraryWatchedList = document.querySelector('.watched-render');\nconst libraryQueuedList = document.querySelector('.queued-render');\nconst watchedBTN = document.querySelector('.watched-btn');\nconst queueBTN = document.querySelector('.queue-btn');\n\nlibraryWatchedList.addEventListener('click', openBackDrop);\nlibraryWatchedList.addEventListener('click', addClassHidden);\nlibraryWatchedList.addEventListener('click', getToBtns);\n\nlibraryQueuedList.addEventListener('click', openBackDrop);\nlibraryQueuedList.addEventListener('click', addClassHidden);\nlibraryQueuedList.addEventListener('click', getToBtns);\n\nwindow.addEventListener('load', showWatchedList);\nqueueBTN.addEventListener('click', openQueueList);\nwatchedBTN.addEventListener('click', openWathedList);\n\nconst watchedList = JSON.parse(localStorage.getItem('watched_list'));\nconst queuedList = JSON.parse(localStorage.getItem('queue_list'));\n\nfunction createLibraryMarkup(film) {\n  const genresList = [];\n  const genreList = film.genres.map(genre => {\n    genresList.push(genre.name);\n  });\n  const genres = genresList.join(', ');\n\n  const date = film.release_date.slice(0, 4) || film.first_air_date.slice(0, 4);\n\n  const markup = `<li class=\"main-render__item\">\n        <a href=\"#\" class=\"main-render__link\" data-id=\"${film.id}\">\n            <img class=\"main-render__image\"\n            src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\"\n            loading=\"lazy\"\n            alt=\"${film.original_title || film.name}\" \n            data-id=\"${film.id}\">\n            <h2 class=\"main-render__title\" data-id=\"${film.id}\">\n            ${film.original_title || film.name}\n            </h2>\n            <p class=\"main-render__text\" data-id=\"${\n              film.id\n            }\">${genres} | ${date}</p>\n        </a>\n        </li>`;\n  return markup;\n}\nfunction showWatchedList(evt) {\n  evt.preventDefault();\n\n  const watched = localStorage.getItem('watched_list');\n  const watchedFilms = watched ? JSON.parse(watched) : [];\n\n  if (watchedFilms.length === 0) {\n    libraryWatchedList.innerHTML = `<li class=\"api-error\">\n            <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n            </li>`;\n  }\n  watchedFilms.map(film => {\n    libraryWatchedList.insertAdjacentHTML(\n      'beforeend',\n      createLibraryMarkup(film)\n    );\n  });\n}\nfunction showQueuedList(evt) {\n  evt.preventDefault();\n\n  const queue = localStorage.getItem('queue_list');\n  const queueFilms = queue ? JSON.parse(queue) : [];\n\n  if (queueFilms.length === 0) {\n    libraryQueuedList.innerHTML = `<li class=\"api-error\">\n            <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n            </li>`;\n  } else {\n    queueFilms.map(film => {\n      libraryQueuedList.insertAdjacentHTML(\n        'beforeend',\n        createLibraryMarkup(film)\n      );\n    });\n  }\n}\nfunction openWathedList(evt) {\n  evt.preventDefault();\n  libraryWatchedList.style.display = 'grid';\n  queueBTN.classList.remove('btn--active');\n  watchedBTN.classList.add('btn--active');\n  cleanQueuedList();\n  showWatchedList(evt);\n}\nfunction openQueueList(evt) {\n  evt.preventDefault();\n  libraryQueuedList.style.display = 'grid';\n  watchedBTN.classList.remove('btn--active');\n  queueBTN.classList.add('btn--active');\n  window.removeEventListener('load', showWatchedList);\n  cleanWatchedList();\n  showQueuedList(evt);\n}\nfunction cleanWatchedList() {\n  libraryWatchedList.style.display = 'none';\n  libraryWatchedList.innerHTML = '';\n}\nfunction cleanQueuedList() {\n  libraryQueuedList.style.display = 'none';\n  libraryQueuedList.innerHTML = '';\n}\n\nrefs.modalCloseBtn.addEventListener('click', restoreTheLibrary);\nwindow.addEventListener('keydown', libraryModalKeyDown);\nrefs.backdrop.addEventListener('click', libraryCloseModal);\n\nfunction restoreTheLibrary(evt) {\n  evt.preventDefault();\n\n  if (queueBTN.classList.contains('btn--active')) {\n    const queue = localStorage.getItem('queue_list');\n    const queueFilms = queue ? JSON.parse(queue) : [];\n\n    if (queueFilms.length === 0) {\n      libraryQueuedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n                </li>`;\n    } else {\n      libraryQueuedList.innerHTML = '';\n      queueFilms.map(film => {\n        libraryQueuedList.insertAdjacentHTML(\n          'beforeend',\n          createLibraryMarkup(film)\n        );\n      });\n    }\n  }\n  if (watchedBTN.classList.contains('btn--active')) {\n    const watched = localStorage.getItem('watched_list');\n    const watchedFilms = watched ? JSON.parse(watched) : [];\n\n    if (watchedFilms.length === 0) {\n      libraryWatchedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n                </li>`;\n    } else {\n      libraryWatchedList.innerHTML = '';\n      watchedFilms.map(film => {\n        libraryWatchedList.insertAdjacentHTML(\n          'beforeend',\n          createLibraryMarkup(film)\n        );\n      });\n    }\n  }\n}\nfunction libraryCloseModal(event) {\n  event.preventDefault();\n  if (event.target === refs.backdrop) {\n    if (queueBTN.classList.contains('btn--active')) {\n      const queue = localStorage.getItem('queue_list');\n      const queueFilms = queue ? JSON.parse(queue) : [];\n\n      if (queueFilms.length === 0) {\n        libraryQueuedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n                </li>`;\n      } else {\n        libraryQueuedList.innerHTML = '';\n        queueFilms.map(film => {\n          libraryQueuedList.insertAdjacentHTML(\n            'beforeend',\n            createLibraryMarkup(film)\n          );\n        });\n      }\n    }\n    if (watchedBTN.classList.contains('btn--active')) {\n      const watched = localStorage.getItem('watched_list');\n      const watchedFilms = watched ? JSON.parse(watched) : [];\n\n      if (watchedFilms.length === 0) {\n        libraryWatchedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n                </li>`;\n      } else {\n        libraryWatchedList.innerHTML = '';\n        watchedFilms.map(film => {\n          libraryWatchedList.insertAdjacentHTML(\n            'beforeend',\n            createLibraryMarkup(film)\n          );\n        });\n      }\n    }\n  }\n}\nfunction libraryModalKeyDown(event) {\n  console.log(event.code);\n  if (event.code === 'Escape') {\n    console.log('done');\n    if (queueBTN.classList.contains('btn--active')) {\n      const queue = localStorage.getItem('queue_list');\n      const queueFilms = queue ? JSON.parse(queue) : [];\n\n      if (queueFilms.length === 0) {\n        libraryQueuedList.innerHTML = `<li class=\"api-error\">\n                <p class=\"api-error__desc\">The list of queued movies is empty.</p>\n                </li>`;\n      } else {\n        libraryQueuedList.innerHTML = '';\n        queueFilms.map(film => {\n          libraryQueuedList.insertAdjacentHTML(\n            'beforeend',\n            createLibraryMarkup(film)\n          );\n        });\n      }\n    }\n    if (watchedBTN.classList.contains('btn--active')) {\n      const watched = localStorage.getItem('watched_list');\n      const watchedFilms = watched ? JSON.parse(watched) : [];\n\n      if (watchedFilms.length === 0) {\n        libraryWatchedList.innerHTML = `<li class=\"api-error\">\n                        <p class=\"api-error__desc\">The list of watched movies is empty.</p>\n                        </li>`;\n      } else {\n        libraryWatchedList.innerHTML = '';\n        watchedFilms.map(film => {\n          libraryWatchedList.insertAdjacentHTML(\n            'beforeend',\n            createLibraryMarkup(film)\n          );\n        });\n      }\n    }\n  }\n}\n","document.querySelector('.themetoggle').addEventListener('click', event => {\n  event.preventDefault();\n  if (localStorage.getItem('theme') === 'dark') {\n    localStorage.removeItem('theme');\n  } else {\n    localStorage.setItem('theme', 'dark');\n  }\n  addDarkClassToHTML();\n});\n\nfunction addDarkClassToHTML() {\n  try {\n    if (localStorage.getItem('theme') === 'dark') {\n      document.querySelector('.main-render').classList.add('dark');\n      document.querySelector('.queued-render').classList.add('dark');\n\n      document.querySelector('body').classList.add('dark');\n      document.querySelector('.themetoggle').classList.add('dark');\n      document.querySelector('.material-icons').classList.add('dark');\n      document.querySelector('header').classList.add('dark');\n      document.querySelector('.modal').classList.add('dark');\n\n      document.querySelector('.modal-dark').classList.add('dark');\n      document.querySelector('.pagination').classList.add('dark');\n      document.querySelector('.day-nigth-btn-box').classList.add('dark');\n    } else {\n      document.querySelector('.main-render').classList.remove('dark');\n      document.querySelector('.queued-render').classList.remove('dark');\n\n      document.querySelector('body').classList.remove('dark');\n      document.querySelector('.themetoggle').classList.remove('dark');\n      document.querySelector('.material-icons').classList.remove('dark');\n      document.querySelector('header').classList.remove('dark');\n      document.querySelector('.modal-dark').classList.remove('dark');\n      document.querySelector('.modal').classList.remove('dark');\n      document.querySelector('.pagination').classList.remove('dark');\n      document.querySelector('.day-nigth-btn-box').classList.remove('dark');\n    }\n  } catch (err) {}\n}\n\naddDarkClassToHTML();\n"],"names":["parcelRequire","$98165248b01bd31e$var$libraryWatchedList","document","querySelector","$98165248b01bd31e$var$libraryQueuedList","$98165248b01bd31e$var$watchedBTN","$98165248b01bd31e$var$queueBTN","addEventListener","$bktnR","openBackDrop","addClassHidden","$hQyPS","getToBtns","window","$98165248b01bd31e$var$showWatchedList","evt","preventDefault","style","display","classList","remove","add","removeEventListener","innerHTML","queue","localStorage","getItem","queueFilms","JSON","parse","length","map","film","insertAdjacentHTML","$98165248b01bd31e$var$createLibraryMarkup","$98165248b01bd31e$var$showQueuedList","genresList","genres","genre","push","name","join","date","release_date","slice","first_air_date","concat","id","poster_path","original_title","watched","watchedFilms","$a0549cb8497cdeaa$var$addDarkClassToHTML","err","$4Nugj","refs","modalCloseBtn","contains","event","console","log","code","backdrop","target","removeItem","setItem"],"version":3,"file":"library.b0b90c32.js.map"}